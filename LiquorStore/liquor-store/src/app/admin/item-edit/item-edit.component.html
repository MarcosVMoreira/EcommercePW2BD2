<div class="container p-3 d-flex justify-content-center" *ngIf="this.loginService.isAdmin">
    <div class="card p-3">
      <div class="body">
        <form [formGroup]="productForm" (ngSubmit)="editProduct(productForm.value)">
  
          <div class="row">
            <div class="col">
              <h1>Edição de Produto</h1>
            </div>
          </div>
  
          <div class="row">
            <div class="form-group col-md-8 col-sm-12">
              <label>Nome</label>
              <input type="text" class="form-control" formControlName="prod_nome"
                [ngClass]="{ 'is-invalid': submitted && form.prod_nome.errors }">
              <div *ngIf="submitted && form.prod_nome.errors" class="invalid-feedback">
                <div *ngIf="form.prod_nome.errors.required">O nome do produto é obrigatório</div>
              </div>
            </div>
            <div class="form-group col-md col-sm-12">
              <label>Categoria do Produto</label>
              <select class="form-control" formControlName="prod_categoria"
                [ngClass]="{ 'is-invalid': submitted && form.prod_categoria.errors }">
                <option *ngFor="let category of categories" [value]="category.categoria_id">
                  {{ category.categoria }}
                </option>
              </select>
              <div *ngIf="submitted && form.prod_categoria.errors" class="invalid-feedback">
                <div *ngIf="form.prod_categoria.errors.required">Escolha uma categoria</div>
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="form-group col">
              <label>Descrição</label>
              <textarea class="form-control" formControlName="prod_descricao" rows="3"
                [ngClass]="{ 'is-invalid': submitted && form.prod_descricao.errors }"></textarea>
              <div *ngIf="submitted && form.prod_descricao.errors" class="invalid-feedback">
                <div *ngIf="form.prod_descricao.errors.required">A descrição do produto é obrigatória</div>
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="form-group col-md-4 col-sm-12">
              <label>Preço Unitário</label>
              <input mask="separator" type="text" prefix="R$" class="form-control"
                formControlName="prod_preco" [ngClass]="{ 'is-invalid': submitted && form.prod_preco.errors }">
              <div *ngIf="submitted && form.prod_preco.errors" class="invalid-feedback">
                <div *ngIf="form.prod_preco.errors.required">O preço do produto é obrigatória</div>
              </div>
            </div>
            <div class="form-group col-md-2 col-sm-12">
              <label>Quantidade</label>
              <input type="number" class="form-control" formControlName="prod_quantidade"
                [ngClass]="{ 'is-invalid': submitted && form.prod_quantidade.errors }">
              <div *ngIf="submitted && form.prod_quantidade.errors" class="invalid-feedback">
                <div *ngIf="form.prod_quantidade.errors.required">A quantidade de produtos é obrigatória</div>
              </div>
            </div>
            <div class="form-group col-md col-sm-12">
              <label>Imagem</label>
              <div class="custom-file">
                <input type="file" class="custom-file-input" id="customFile" (change)="onFileChanged($event)">
                <label class="custom-file-label" for="customFile" data-browse="Procurar">Escolher Arquivo</label>
              </div>
            </div>
          </div>
  
          <div class="row">
            <div class="col">
              <button style="margin-right: 15px;" type="submit" class="btn btn-dark">Editar Produto</button>
              <button type="reset" class="btn btn-dark">Limpar</button>
            </div>
          </div>
  
        </form>
      </div>
    </div>
  </div>
  